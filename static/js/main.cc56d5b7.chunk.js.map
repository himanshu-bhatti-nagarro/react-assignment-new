{"version":3,"sources":["_helpers/history.js","_constants/alert.constants.js","_constants/user.constants.js","_constants/articles.constants.js","_constants/comments.constants.js","_reducers/authentication.reducer.js","_reducers/index.js","_reducers/registration.reducer.js","_reducers/users.reducer.js","_reducers/alert.reducer.js","_reducers/articles.reducer.js","_reducers/article.reducer.js","_reducers/comments.reducer.js","_reducers/tags.reducer.js","_helpers/store.js","_helpers/auth-header.js","_actions/alert.actions.js","_services/user.service.js","_actions/user.actions.js","_components/PrivateRoute.jsx","Articles/Articles.jsx","LoginPage/LoginPage.jsx","RegisterPage/RegisterPage.jsx","IndividualArticle/Article.jsx","NewArticle/NewArticle.jsx","App.js","serviceWorker.js","index.js"],"names":["history","createBrowserHistory","alertConstants","userConstants","articlesConstants","commentsConstants","user","JSON","parse","localStorage","getItem","initialState","loggedIn","rootReducer","combineReducers","authentication","state","action","type","loggingIn","registration","registering","users","loading","items","error","map","id","deleting","filter","userCopy","deleteError","alert","message","articles","article","comments","tags","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","authHeader","token","Authorization","alertActions","success","clear","userService","login","email","password","loginObj","requestOptions","method","headers","body","stringify","fetch","config","then","handleResponse","setItem","logout","removeItem","register","registrationObj","username","getAllArticles","getArticleBySlug","slug","addArticle","title","description","tagList","addArticleObj","updateArticle","deleteArticle","getComments","addComment","comment","commentObj","deleteComment","getTags","getArticlesByTag","tag","markUnmarkFavourite","flag","response","text","data","errors","keys","Object","Promise","reject","userActions","dispatch","push","console","log","failure","toString","request","window","location","reload","req","PrivateRoute","Component","component","rest","render","props","to","pathname","from","Articles","useSelector","useDispatch","useEffect","allArticles","onNavigation","el","document","getElementById","classList","contains","remove","add","className","onClick","style","cursor","length","key","e","target","innerText","_","isUndefined","onTagSelected","placeholder","value","trim","onTagSearch","author","Date","createdAt","toLocaleDateString","LoginPage","useState","inputs","setInputs","submitted","setSubmitted","handleChange","name","onSubmit","preventDefault","onChange","RegisterPage","setUser","Article","useParams","makeFavourite","wordWrap","borderTop","showButtons","favorited","defaultValue","disabled","showCommentButtons","c","updateComment","NewArticle","undefined","isEmpty","finalList","str","arr","split","i","without","uniq","makeTagList","App","listen","exact","path","Boolean","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","unregister","catch"],"mappings":"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","file":"static/js/main.cc56d5b7.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();","export const alertConstants = {\n    SUCCESS: 'ALERT_SUCCESS',\n    ERROR: 'ALERT_ERROR',\n    CLEAR: 'ALERT_CLEAR'\n};\n","export const userConstants = {\n    REGISTER_REQUEST: 'USERS_REGISTER_REQUEST',\n    REGISTER_SUCCESS: 'USERS_REGISTER_SUCCESS',\n    REGISTER_FAILURE: 'USERS_REGISTER_FAILURE',\n\n    LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\n    LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\n    LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\n    \n    LOGOUT: 'USERS_LOGOUT',\n\n    GETALL_REQUEST: 'USERS_GETALL_REQUEST',\n    GETALL_SUCCESS: 'USERS_GETALL_SUCCESS',\n    GETALL_FAILURE: 'USERS_GETALL_FAILURE',\n\n    DELETE_REQUEST: 'USERS_DELETE_REQUEST',\n    DELETE_SUCCESS: 'USERS_DELETE_SUCCESS',\n    DELETE_FAILURE: 'USERS_DELETE_FAILURE'    \n};\n","export const articlesConstants = {\r\n  GET_ALL: \"GET_ALL_ARTICLES\",\r\n  GET_ALL_SUCCESS: \"GET_ALL_ARTICLES_SUCCESS\",\r\n  GET_ALL_FAILURE: \"GET_ALL_ARTICLES_FAILURE\",\r\n\r\n  GET_BY_SLUG: \"GET_ARTICLE_BY_SLUG\",\r\n  GET_BY_SLUG_SUCCESS: \"GET_ARTICLE_BY_SLUG_SUCCESS\",\r\n  GET_BY_SLUG_FAILURE: \"GET_ARTICLE_BY_SLUG_FAILURE\",\r\n\r\n  ADD: \"ADD_NEW_ARTICLE\",\r\n  ADD_SUCCCESS: \"ADD_NEW_ARTICLE_SUCCESS\",\r\n  ADD_FAILURE: \"ADD_NEW_ARTICLE_FAILURE\",\r\n\r\n  UPDATE: \"UPDATE_ARTICLE\",\r\n  UPDATE_SUCCCESS: \"UPDATE_ARTICLE_SUCCESS\",\r\n  UPDATE_FAILURE: \"UPDATE_ARTICLE_FAILURE\",\r\n\r\n  DELETE: \"DELETE_ARTICLE\",\r\n  DELETE_SUCCCESS: \"DELETE_ARTICLE_SUCCESS\",\r\n  DELETE_FAILURE: \"DELETE_ARTICLE_FAILURE\",\r\n\r\n  GET_TAGS: \"GET_ALL_TAGS\",\r\n  GET_TAGS_SUCCESS: \"GET_ALL_TAGS_SUCCESS\",\r\n  GET_TAGS_FAILURE: \"GET_ALL_TAGS_FAILURE\",\r\n\r\n  GET_ALL_BY_TAG: \"GET_ALL_ARTICLES_BY_TAG\",\r\n  GET_ALL_BY_TAG_SUCCESS: \"GET_ALL_ARTICLES_BY_TAG_SUCCESS\",\r\n  GET_ALL_BY_TAG_FAILURE: \"GET_ALL_ARTICLES_BY_TAG_FAILURE\",\r\n\r\n  MARK_UNMARK_FAVOURITE: \"MARK_UNMARK_ARTICLE_FAVOURITE\",\r\n  MARK_UNMARK_FAVOURITE_SUCCESS: \"MARK_UNMARK_ARTICLE_FAVOURITE_SUCCESS\",\r\n  MARK_UNMARK_FAVOURITE_FAILURE: \"MARK_UNMARK_ARTICLE_FAVOURITE_SUCCESS\",\r\n};\r\n","export const commentsConstants = {\r\n  GET_ALL: \"GET_ALL_COMMENTS\",\r\n  GET_ALL_SUCCESS: \"GET_ALL_COMMENTS_SUCCESS\",\r\n  GET_ALL_FAILURE: \"GET_ALL_COMMENTS_FAILURE\",\r\n\r\n  GET_BY_ID: \"GET_COMMENTS_BY_ID\",\r\n  GET_BY_ID_SUCCESS: \"GET_COMMENTS_BY_ID_SUCCESS\",\r\n  GET_BY_ID_FAILURE: \"GET_COMMENTS_BY_ID_FAILURE\",\r\n\r\n  ADD: \"ADD_NEW_COMMENT\",\r\n  ADD_SUCCCESS: \"ADD_NEW_COMMENT_SUCCESS\",\r\n  ADD_FAILURE: \"ADD_NEW_COMMENT_FAILURE\",\r\n\r\n  UPDATE: \"UPDATE_COMMENT\",\r\n  UPDATE_SUCCCESS: \"UPDATE_COMMENT_SUCCESS\",\r\n  UPDATE_FAILURE: \"UPDATE_COMMENT_FAILURE\",\r\n\r\n  DELETE: \"DELETE_COMMENT\",\r\n  DELETE_SUCCCESS: \"DELETE_COMMENT_SUCCESS\",\r\n  DELETE_FAILURE: \"DELETE_COMMENT_FAILURE\",\r\n};\r\n","import { userConstants } from \"../_constants\";\n\nlet user = JSON.parse(localStorage.getItem(\"user\"));\nconst initialState = user ? { loggedIn: true, user } : {};\n\nexport function authentication(state = initialState, action) {\n  switch (action.type) {\n    case userConstants.LOGIN_REQUEST:\n      return {\n        loggingIn: true,\n        user: action.user,\n      };\n    case userConstants.LOGIN_SUCCESS:\n      return {\n        loggedIn: true,\n        user: action.user,\n      };\n    case userConstants.LOGIN_FAILURE:\n      return {};\n    case userConstants.LOGOUT:\n      return {};\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\n\nimport { authentication } from \"./authentication.reducer\";\nimport { registration } from \"./registration.reducer\";\nimport { users } from \"./users.reducer\";\nimport { alert } from \"./alert.reducer\";\nimport { articles } from \"./articles.reducer\";\nimport { article } from \"./article.reducer\";\nimport { comments } from \"./comments.reducer\";\nimport { tags } from \"./tags.reducer\";\n\nconst rootReducer = combineReducers({\n  authentication,\n  registration,\n  users,\n  alert,\n  articles,\n  article,\n  comments,\n  tags,\n});\n\nexport default rootReducer;\n","import { userConstants } from '../_constants';\n\nexport function registration(state = {}, action) {\n  switch (action.type) {\n    case userConstants.REGISTER_REQUEST:\n      return { registering: true };\n    case userConstants.REGISTER_SUCCESS:\n      return {};\n    case userConstants.REGISTER_FAILURE:\n      return {};\n    default:\n      return state\n  }\n}","import { userConstants } from '../_constants';\n\nexport function users(state = {}, action) {\n  switch (action.type) {\n    case userConstants.GETALL_REQUEST:\n      return {\n        loading: true\n      };\n    case userConstants.GETALL_SUCCESS:\n      return {\n        items: action.users\n      };\n    case userConstants.GETALL_FAILURE:\n      return { \n        error: action.error\n      };\n    case userConstants.DELETE_REQUEST:\n      // add 'deleting:true' property to user being deleted\n      return {\n        ...state,\n        items: state.items.map(user =>\n          user.id === action.id\n            ? { ...user, deleting: true }\n            : user\n        )\n      };\n    case userConstants.DELETE_SUCCESS:\n      // remove deleted user from state\n      return {\n        items: state.items.filter(user => user.id !== action.id)\n      };\n    case userConstants.DELETE_FAILURE:\n      // remove 'deleting:true' property and add 'deleteError:[error]' property to user \n      return {\n        ...state,\n        items: state.items.map(user => {\n          if (user.id === action.id) {\n            // make copy of user without 'deleting:true' property\n            const { deleting, ...userCopy } = user;\n            // return copy of user with 'deleteError:[error]' property\n            return { ...userCopy, deleteError: action.error };\n          }\n\n          return user;\n        })\n      };\n    default:\n      return state\n  }\n}","import { alertConstants } from '../_constants';\n\nexport function alert(state = {}, action) {\n  switch (action.type) {\n    case alertConstants.SUCCESS:\n      return {\n        type: 'alert-success',\n        message: action.message\n      };\n    case alertConstants.ERROR:\n      return {\n        type: 'alert-danger',\n        message: action.message\n      };\n    case alertConstants.CLEAR:\n      return {};\n    default:\n      return state\n  }\n}","import { articlesConstants } from \"../_constants\";\r\n\r\nexport function articles(state = {}, action) {\r\n  switch (action.type) {\r\n    case articlesConstants.GET_ALL:\r\n      return {\r\n        ...state,\r\n        articles: action.articles?.articles ? action.articles.articles : [],\r\n      };\r\n    case articlesConstants.GET_ALL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        articles: action.articles.articles,\r\n      };\r\n    case articlesConstants.GET_ALL_FAILURE:\r\n      return {};\r\n    case articlesConstants.GET_ALL_BY_TAG:\r\n      return {\r\n        ...state,\r\n      };\r\n    case articlesConstants.GET_ALL_BY_TAG_SUCCESS:\r\n      return {\r\n        ...state,\r\n        articles: action.articles.articles,\r\n      };\r\n    case articlesConstants.GET_ALL_FAILURE:\r\n      return {\r\n        ...state,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { articlesConstants } from \"../_constants\";\r\n\r\nexport function article(state = {}, action) {\r\n  switch (action.type) {\r\n    case articlesConstants.GET_BY_SLUG:\r\n      return {\r\n        ...state,\r\n        article: action.article?.articles ? action.article.article : {},\r\n      };\r\n    case articlesConstants.GET_BY_SLUG_SUCCESS:\r\n      return {\r\n        ...state,\r\n        article: action.article.article,\r\n      };\r\n    case articlesConstants.GET_BY_SLUG_FAILURE:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { commentsConstants } from \"../_constants\";\r\n\r\nexport function comments(state = {}, action) {\r\n  switch (action.type) {\r\n    case commentsConstants.GET_ALL:\r\n      return {\r\n        ...state,\r\n        comments: action.comments?.comments ? action.comments.comments : [],\r\n      };\r\n    case commentsConstants.GET_ALL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        comments: action.comments.comments,\r\n      };\r\n    case commentsConstants.GET_ALL_FAILURE:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { articlesConstants } from \"../_constants\";\r\n\r\nexport function tags(state = {}, action) {\r\n  switch (action.type) {\r\n    case articlesConstants.GET_TAGS:\r\n      return {\r\n        ...state,\r\n      };\r\n    case articlesConstants.GET_TAGS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        tags: action.tags.tags,\r\n      };\r\n    case articlesConstants.GET_TAGS_FAILURE:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport rootReducer from '../_reducers';\n\nconst loggerMiddleware = createLogger();\n\nexport const store = createStore(\n    rootReducer,\n    applyMiddleware(\n        thunkMiddleware,\n        loggerMiddleware\n    )\n);","export function authHeader() {\n  // return authorization header with jwt token\n  let user = JSON.parse(localStorage.getItem(\"user\"));\n\n  if (user && user.user.token) {\n    return { Authorization: \"Token \" + user.user.token };\n  } else {\n    return {};\n  }\n}\n","import { alertConstants } from '../_constants';\n\nexport const alertActions = {\n    success,\n    error,\n    clear\n};\n\nfunction success(message) {\n    return { type: alertConstants.SUCCESS, message };\n}\n\nfunction error(message) {\n    return { type: alertConstants.ERROR, message };\n}\n\nfunction clear() {\n    return { type: alertConstants.CLEAR };\n}","import * as config from \"../config.json\";\nimport { authHeader } from \"../_helpers\";\n\nexport const userService = {\n  login,\n  logout,\n  register,\n  getAllArticles,\n  getArticleBySlug,\n  addArticle,\n  updateArticle,\n  deleteArticle,\n  getComments,\n  addComment,\n  deleteComment,\n  getTags,\n  getArticlesByTag,\n  markUnmarkFavourite,\n};\n\nconst loginObj = {\n  user: {\n    email: \"\",\n    password: \"\",\n  },\n};\n\nconst registrationObj = {\n  user: {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  },\n};\n\nconst addArticleObj = {\n  article: {\n    title: \"\",\n    description: \"\",\n    body: \"\",\n    tagList: [],\n  },\n};\n\nconst commentObj = {\n  comment: {\n    body: \"\",\n  },\n};\n\nfunction login(email, password) {\n  loginObj.user.email = email;\n  loginObj.user.password = password;\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Headers\":\n        \"Origin, X-Requested-With, Content-Type, Accept\",\n    },\n    body: JSON.stringify(loginObj),\n  };\n\n  return fetch(`${config.apiUrl}/users/login`, requestOptions)\n    .then(handleResponse)\n    .then((user) => {\n      // store user details and jwt token in local storage to keep user logged in between page refreshes\n      localStorage.setItem(\"user\", JSON.stringify(user));\n      return user;\n    });\n}\n\nfunction addArticle(title, description, body, tagList) {\n  addArticleObj.article.title = title;\n  addArticleObj.article.description = description;\n  addArticleObj.article.body = body;\n  addArticleObj.article.tagList = tagList;\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Headers\":\n        \"Origin, X-Requested-With, Content-Type, Accept\",\n      Authorization: authHeader().Authorization,\n    },\n    body: JSON.stringify(addArticleObj),\n  };\n\n  return fetch(`${config.apiUrl}/articles`, requestOptions).then(\n    handleResponse\n  );\n}\n\nfunction updateArticle(title, description, body, tagList, slug) {\n  addArticleObj.article.title = title;\n  addArticleObj.article.description = description;\n  addArticleObj.article.body = body;\n  addArticleObj.article.tagList = tagList;\n  const requestOptions = {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Headers\":\n        \"Origin, X-Requested-With, Content-Type, Accept\",\n      Authorization: authHeader().Authorization,\n    },\n    body: JSON.stringify(addArticleObj),\n  };\n\n  return fetch(`${config.apiUrl}/articles/${slug}`, requestOptions).then(\n    handleResponse\n  );\n}\n\nfunction deleteArticle(slug) {\n  const requestOptions = {\n    method: \"DELETE\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Headers\":\n        \"Origin, X-Requested-With, Content-Type, Accept\",\n      Authorization: authHeader().Authorization,\n    },\n    body: JSON.stringify(addArticleObj),\n  };\n\n  return fetch(`${config.apiUrl}/articles/${slug}`, requestOptions).then(\n    handleResponse\n  );\n}\n\nfunction getComments(slug) {\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      Authorization: authHeader().Authorization,\n    },\n  };\n\n  return fetch(\n    `${config.apiUrl}/articles/${slug}/comments`,\n    requestOptions\n  ).then(handleResponse);\n}\n\nfunction addComment(slug, comment) {\n  commentObj.comment.body = comment;\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Headers\":\n        \"Origin, X-Requested-With, Content-Type, Accept\",\n      Authorization: authHeader().Authorization,\n    },\n    body: JSON.stringify(commentObj),\n  };\n\n  return fetch(\n    `${config.apiUrl}/articles/${slug}/comments`,\n    requestOptions\n  ).then(handleResponse);\n}\n\nfunction deleteComment(id, slug) {\n  const requestOptions = {\n    method: \"DELETE\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Headers\":\n        \"Origin, X-Requested-With, Content-Type, Accept\",\n      Authorization: authHeader().Authorization,\n    },\n    body: JSON.stringify(addArticleObj),\n  };\n\n  return fetch(\n    `${config.apiUrl}//articles/${slug}/comments/${id}`,\n    requestOptions\n  ).then(handleResponse);\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem(\"user\");\n}\n\nfunction getArticleBySlug(slug) {\n  const requestOptions = {\n    method: \"GET\",\n    headers: authHeader(),\n  };\n\n  return fetch(`${config.apiUrl}/articles/${slug}`, requestOptions).then(\n    handleResponse\n  );\n}\n\nfunction register(user) {\n  registrationObj.user.email = user.email;\n  registrationObj.user.password = user.password;\n  registrationObj.user.username = user.username;\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n    },\n    body: JSON.stringify(registrationObj),\n  };\n\n  return fetch(`${config.apiUrl}/users`, requestOptions).then(handleResponse);\n}\n\nfunction getAllArticles(type) {\n  const requestOptions = {\n    method: \"GET\",\n    headers: authHeader(),\n  };\n\n  if (type === \"all\") {\n    return fetch(`${config.apiUrl}/articles`, requestOptions).then(\n      handleResponse\n    );\n  }\n\n  let user = JSON.parse(localStorage.getItem(\"user\"));\n  if (type == \"my\") {\n    return fetch(\n      `${config.apiUrl}/articles?author=${user.user.username}`,\n      requestOptions\n    ).then(handleResponse);\n  }\n\n  return fetch(\n    `${config.apiUrl}/articles?favorited=${user.user.username}`,\n    requestOptions\n  ).then(handleResponse);\n}\n\nfunction getTags() {\n  const requestOptions = {\n    method: \"GET\",\n    headers: authHeader(),\n  };\n\n  return fetch(`${config.apiUrl}/tags`, requestOptions).then(handleResponse);\n}\n\nfunction getArticlesByTag(tag) {\n  const requestOptions = {\n    method: \"GET\",\n    headers: authHeader(),\n  };\n\n  return fetch(`${config.apiUrl}/articles/?tag=${tag}`, requestOptions).then(\n    handleResponse\n  );\n}\n\nfunction markUnmarkFavourite(flag, slug) {\n  if (flag) {\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Headers\":\n          \"Origin, X-Requested-With, Content-Type, Accept\",\n        Authorization: authHeader().Authorization,\n      },\n    };\n\n    return fetch(\n      `${config.apiUrl}/articles/${slug}/favorite`,\n      requestOptions\n    ).then(handleResponse);\n  }\n\n  const requestOptions = {\n    method: \"DELETE\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Headers\":\n        \"Origin, X-Requested-With, Content-Type, Accept\",\n      Authorization: authHeader().Authorization,\n    },\n  };\n\n  return fetch(\n    `${config.apiUrl}/articles/${slug}/favorite`,\n    requestOptions\n  ).then(handleResponse);\n}\n\nfunction handleResponse(response) {\n  return response.text().then((text) => {\n    const data = text && JSON.parse(text);\n    if (data.errors) {\n      const keys = Object.keys(data.errors);\n      const error = keys[0] + \" \" + data[\"errors\"][keys[0]];\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}\n","import {\n  userConstants,\n  articlesConstants,\n  commentsConstants,\n} from \"../_constants\";\nimport { userService } from \"../_services\";\nimport { alertActions } from \"./\";\nimport { history } from \"../_helpers\";\n\nexport const userActions = {\n  login,\n  logout,\n  register,\n  getAllArticles,\n  getArticleBySlug,\n  addArticle,\n  updateArticle,\n  deleteArticle,\n  getComments,\n  addComment,\n  deleteComment,\n  getTags,\n  getArticlesByTag,\n  markUnmarkFavourite,\n};\n\nfunction login(email, password) {\n  return (dispatch) => {\n    dispatch(request({ email }));\n\n    userService.login(email, password).then(\n      (user) => {\n        dispatch(success(user));\n        history.push(\"/\");\n      },\n      (error) => {\n        console.log(error);\n        dispatch(failure(error.toString()));\n        dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request(user) {\n    return { type: userConstants.LOGIN_REQUEST, user };\n  }\n  function success(user) {\n    return { type: userConstants.LOGIN_SUCCESS, user };\n  }\n  function failure(error) {\n    return { type: userConstants.LOGIN_FAILURE, error };\n  }\n}\n\nfunction addArticle(title, description, body, tagList) {\n  return (dispatch) => {\n    dispatch(request(title, description, body, tagList));\n\n    userService.addArticle(title, description, body, tagList).then(\n      (article) => {\n        dispatch(success(article));\n        history.push(\"/articles\");\n      },\n      (error) => {\n        console.log(error);\n        dispatch(failure(error.toString()));\n        dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request(title, description, body, tagList) {\n    return { type: articlesConstants.ADD, title, description, body, tagList };\n  }\n  function success(article) {\n    return { type: articlesConstants.ADD_SUCCCESS, article };\n  }\n  function failure(error) {\n    return { type: articlesConstants.ADD_FAILURE, error };\n  }\n}\n\nfunction updateArticle(title, description, body, tagList, slug) {\n  return (dispatch) => {\n    dispatch(request(title, description, body, tagList, slug));\n\n    userService.updateArticle(title, description, body, tagList, slug).then(\n      (article) => {\n        dispatch(success(article));\n        history.push(\"/articles\");\n      },\n      (error) => {\n        console.log(error);\n        dispatch(failure(error.toString()));\n        dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request(title, description, body, tagList) {\n    return {\n      type: articlesConstants.UPDATE,\n      title,\n      description,\n      body,\n      tagList,\n    };\n  }\n  function success(article) {\n    return { type: articlesConstants.UPDATE_SUCCCESS, article };\n  }\n  function failure(error) {\n    return { type: articlesConstants.UPDATE_FAILURE, error };\n  }\n}\n\nfunction deleteArticle(slug) {\n  return (dispatch) => {\n    dispatch(request(slug));\n\n    userService.deleteArticle(slug).then(\n      (article) => {\n        dispatch(success(article));\n        history.push(\"/articles\");\n      },\n      (error) => {\n        console.log(error);\n        dispatch(failure(error.toString()));\n        dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request(slug) {\n    return {\n      type: articlesConstants.DELETE,\n      slug,\n    };\n  }\n  function success(article) {\n    return { type: articlesConstants.DELETE_SUCCCESS, article };\n  }\n  function failure(error) {\n    return { type: articlesConstants.DELETE_FAILURE, error };\n  }\n}\n\nfunction getComments(slug) {\n  return (dispatch) => {\n    dispatch(request(slug));\n\n    userService.getComments(slug).then(\n      (comments) => {\n        dispatch(success(comments));\n      },\n      (error) => {\n        console.log(error);\n        dispatch(failure(error.toString()));\n        dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request(slug) {\n    return {\n      type: commentsConstants.GET_ALL,\n      slug,\n    };\n  }\n  function success(comments) {\n    return { type: commentsConstants.GET_ALL_SUCCESS, comments };\n  }\n  function failure(error) {\n    return { type: commentsConstants.GET_ALL_FAILURE, error };\n  }\n}\n\nfunction getArticleBySlug(slug) {\n  return (dispatch) => {\n    dispatch(request(slug));\n\n    userService.getArticleBySlug(slug).then(\n      (article) => {\n        dispatch(success(article));\n      },\n      (error) => {\n        console.log(error);\n        dispatch(failure(error.toString()));\n        dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request(slug) {\n    return { type: articlesConstants.GET_BY_SLUG, slug };\n  }\n  function success(article) {\n    return { type: articlesConstants.GET_BY_SLUG_SUCCESS, article };\n  }\n  function failure(error) {\n    return { type: articlesConstants.GET_BY_SLUG_FAILURE, error };\n  }\n}\n\nfunction logout() {\n  userService.logout();\n  return { type: userConstants.LOGOUT };\n}\n\nfunction register(user) {\n  return (dispatch) => {\n    dispatch(request(user));\n\n    userService.register(user).then(\n      (user) => {\n        dispatch(success());\n        history.push(\"/login\");\n        dispatch(alertActions.success(\"Registration successful\"));\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request(user) {\n    return { type: userConstants.REGISTER_REQUEST, user };\n  }\n  function success(user) {\n    return { type: userConstants.REGISTER_SUCCESS, user };\n  }\n  function failure(error) {\n    return { type: userConstants.REGISTER_FAILURE, error };\n  }\n}\n\nfunction getAllArticles(type) {\n  return (dispatch) => {\n    dispatch(request());\n\n    userService.getAllArticles(type).then(\n      (articles) => dispatch(success(articles)),\n      (error) => dispatch(failure(error.toString()))\n    );\n  };\n\n  function request() {\n    return { type: articlesConstants.GET_ALL };\n  }\n  function success(articles) {\n    return { type: articlesConstants.GET_ALL_SUCCESS, articles };\n  }\n  function failure(error) {\n    return { type: articlesConstants.GET_ALL_FAILURE, error };\n  }\n}\n\nfunction addComment(slug, comment) {\n  return (dispatch) => {\n    dispatch(request(slug, comment));\n\n    userService.addComment(slug, comment).then(\n      (comment) => {\n        dispatch(success(comment));\n        window.location.reload();\n      },\n      (error) => dispatch(failure(error.toString()))\n    );\n  };\n\n  function request(slug, comment) {\n    return { type: commentsConstants.ADD, slug, comment };\n  }\n  function success(comment) {\n    return { type: commentsConstants.ADD_SUCCCESS, comment };\n  }\n  function failure(error) {\n    return { type: commentsConstants.ADD_FAILURE, error };\n  }\n}\n\nfunction deleteComment(id, slug) {\n  return (dispatch) => {\n    dispatch(request(id, slug));\n\n    userService.deleteComment(id, slug).then(\n      (comment) => {\n        dispatch(success(comment));\n        window.location.reload();\n      },\n      (error) => dispatch(failure(error.toString()))\n    );\n  };\n\n  function request(id, slug) {\n    return { type: commentsConstants.DELETE, id, slug };\n  }\n  function success(comment) {\n    return { type: commentsConstants.DELETE_SUCCCESS, comment };\n  }\n  function failure(error) {\n    return { type: commentsConstants.DELETE_FAILURE, error };\n  }\n}\n\nfunction getTags() {\n  return (dispatch) => {\n    dispatch(request(true));\n\n    userService.getTags().then(\n      (tags) => {\n        dispatch(success(tags));\n        // window.location.reload();\n      },\n      (error) => dispatch(failure(error.toString()))\n    );\n  };\n\n  function request(req) {\n    return { type: articlesConstants.GET_TAGS, req };\n  }\n  function success(tags) {\n    return { type: articlesConstants.GET_TAGS_SUCCESS, tags };\n  }\n  function failure(error) {\n    return { type: articlesConstants.GET_TAGS_FAILURE, error };\n  }\n}\n\nfunction getArticlesByTag(tag) {\n  return (dispatch) => {\n    dispatch(request(tag));\n\n    userService.getArticlesByTag(tag).then(\n      (articles) => {\n        dispatch(success(articles));\n        // window.location.reload();\n      },\n      (error) => dispatch(failure(error.toString()))\n    );\n  };\n\n  function request(tag) {\n    return { type: articlesConstants.GET_ALL_BY_TAG, tag };\n  }\n  function success(articles) {\n    return { type: articlesConstants.GET_ALL_BY_TAG_SUCCESS, articles };\n  }\n  function failure(error) {\n    return { type: articlesConstants.GET_ALL_BY_TAG_FAILURE, error };\n  }\n}\n\nfunction markUnmarkFavourite(flag, slug) {\n  return (dispatch) => {\n    dispatch(request(flag, slug));\n\n    userService.markUnmarkFavourite(flag, slug).then(\n      (article) => {\n        dispatch(success(article));\n        history.push(\"/article/\" + slug);\n      },\n      (error) => dispatch(failure(error.toString()))\n    );\n  };\n\n  function request(flag, slug) {\n    return { type: articlesConstants.MARK_UNMARK_FAVOURITE, flag, slug };\n  }\n  function success(article) {\n    return { type: articlesConstants.MARK_UNMARK_FAVOURITE_SUCCESS, article };\n  }\n  function failure(error) {\n    return { type: articlesConstants.MARK_UNMARK_FAVOURITE_FAILURE, error };\n  }\n}\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        localStorage.getItem('user')\r\n            ? <Component {...props} />\r\n            : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n    )} />\r\n)","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { userActions } from \"../_actions\";\nimport { history } from \"../_helpers\";\nimport _ from \"underscore\";\n\nfunction Articles() {\n  const user = useSelector((state) => state.authentication.user.user);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(userActions.getAllArticles(\"all\"));\n    dispatch(userActions.getTags());\n  }, []);\n\n  const allArticles = useSelector((state) => state.articles.articles);\n  const tags = useSelector((state) => state.tags.tags);\n\n  function onTitleClick(slug) {\n    history.push(\"/articles/\" + slug);\n  }\n\n  function onNavigation(type) {\n    const el = document.getElementById(type);\n    if (type === \"myArticles\") {\n      if (!el.classList.contains(\"active\")) {\n        document.getElementById(\"allArticles\").classList.remove(\"active\");\n        document.getElementById(\"favArticles\").classList.remove(\"active\");\n        el.classList.add(\"active\");\n\n        dispatch(userActions.getAllArticles(\"my\"));\n      }\n    } else if (type === \"allArticles\") {\n      if (!el.classList.contains(\"active\")) {\n        document.getElementById(\"myArticles\").classList.remove(\"active\");\n        document.getElementById(\"favArticles\").classList.remove(\"active\");\n        el.classList.add(\"active\");\n\n        dispatch(userActions.getAllArticles(\"all\"));\n      }\n    } else {\n      if (!el.classList.contains(\"active\")) {\n        document.getElementById(\"myArticles\").classList.remove(\"active\");\n        document.getElementById(\"allArticles\").classList.remove(\"active\");\n        el.classList.add(\"active\");\n        dispatch(userActions.getAllArticles(\"fav\"));\n      }\n    }\n  }\n\n  function addArticle() {\n    history.push(\"/newArticle\");\n  }\n\n  function onTagSelected(e) {\n    const tag = e.target.innerText;\n    if (tag && !_.isUndefined(tag)) {\n      dispatch(userActions.getArticlesByTag(tag));\n    }\n  }\n\n  function onTagSearch() {\n    const el = document.getElementById(\"tagSearch\").value.trim();\n    if (el && !_.isUndefined(el) && el !== \"\") {\n      dispatch(userActions.getArticlesByTag(el));\n    }\n  }\n\n  return (\n    <div className=\"col-lg-12\">\n      <div className=\"row\">\n        <div className=\"col-8\">\n          <h1>Hi {user.username}!</h1>\n          <p className=\"ml-4\">\n            <Link to=\"/login\">Logout</Link>\n          </p>\n        </div>\n        <div className=\"col-4\">\n          <button className=\"btn btn-info mt-2\" onClick={() => addArticle()}>\n            Add New Article\n          </button>\n        </div>\n      </div>\n\n      <nav className=\"navbar navbar-dark bg-dark justify-content-center\">\n        <ul className=\"navbar-nav \">\n          <li className=\"nav-item active\" id=\"allArticles\">\n            <a\n              className=\"nav-link\"\n              style={{ cursor: \"pointer\" }}\n              onClick={() => onNavigation(\"allArticles\")}\n            >\n              All Articles\n            </a>\n          </li>\n          <li className=\"nav-item\" id=\"myArticles\">\n            <a\n              className=\"nav-link\"\n              style={{ cursor: \"pointer\" }}\n              onClick={() => onNavigation(\"myArticles\")}\n            >\n              My Articles\n            </a>\n          </li>\n          <li className=\"nav-item\" id=\"favArticles\">\n            <a\n              className=\"nav-link\"\n              style={{ cursor: \"pointer\" }}\n              onClick={() => onNavigation(\"favArticles\")}\n            >\n              Favourite Articles\n            </a>\n          </li>\n        </ul>\n      </nav>\n      <span>\n        <h4 className=\"bg-warning text-dark\">Popular Tags</h4>\n      </span>\n      <div>\n        {tags && tags.length > 0 && (\n          <div>\n            {tags.map((tag) => (\n              <span\n                key={tag}\n                className=\"badge badge-success ml-2\"\n                style={{ cursor: \"pointer\" }}\n                onClick={(e) => onTagSelected(e)}\n              >\n                {tag}\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n      <div className=\"row mt-2\">\n        <div className=\"col-8\">\n          {\" \"}\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Enter tag to search related articles...\"\n            id=\"tagSearch\"\n          />\n        </div>\n        <div className=\"col-4\">\n          {\" \"}\n          <button\n            className=\"btn btn-sm btn-primary\"\n            onClick={() => onTagSearch()}\n          >\n            Search\n          </button>\n        </div>\n      </div>\n\n      {allArticles && allArticles.length > 0 && (\n        <div>\n          {allArticles.map((article) => (\n            <div className=\"mt-4 h-100 border border-white\" key={article.slug}>\n              <div className=\" row ml-2\">\n                <span className=\"badge badge-info mt-2\">\n                  {\" \" + article.author.username}\n                </span>\n              </div>\n              <div className=\"ml-2\">\n                <h5>{new Date(article.createdAt).toLocaleDateString()}</h5>\n              </div>\n              <div className=\"ml-2\">\n                <h2\n                  style={{ cursor: \"pointer\" }}\n                  onClick={() => onTitleClick(article.slug)}\n                >\n                  {article.title}\n                </h2>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport { Articles };\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { userActions } from \"../_actions\";\n\nfunction LoginPage() {\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [submitted, setSubmitted] = useState(false);\n  const { email, password } = inputs;\n  const loggingIn = useSelector((state) => state.authentication.loggingIn);\n  const dispatch = useDispatch();\n\n  // reset login status\n  useEffect(() => {\n    dispatch(userActions.logout());\n  }, []);\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputs((inputs) => ({ ...inputs, [name]: value }));\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    setSubmitted(true);\n    if (email && password) {\n      dispatch(userActions.login(email, password));\n    }\n  }\n\n  return (\n    <div className=\"col-lg-8 offset-lg-2\">\n      <h2>Login</h2>\n      <form name=\"form\" onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label>email</label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            value={email}\n            onChange={handleChange}\n            className={\n              \"form-control\" + (submitted && !email ? \" is-invalid\" : \"\")\n            }\n          />\n          {submitted && !email && (\n            <div className=\"invalid-feedback\">email is required</div>\n          )}\n        </div>\n        <div className=\"form-group\">\n          <label>Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChange}\n            className={\n              \"form-control\" + (submitted && !password ? \" is-invalid\" : \"\")\n            }\n          />\n          {submitted && !password && (\n            <div className=\"invalid-feedback\">Password is required</div>\n          )}\n        </div>\n        <div className=\"form-group\">\n          <button className=\"btn btn-primary\">\n            {loggingIn && (\n              <span className=\"spinner-border spinner-border-sm mr-1\"></span>\n            )}\n            Login\n          </button>\n          <Link to=\"/register\" className=\"btn btn-link\">\n            Register\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport { LoginPage };\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { userActions } from \"../_actions\";\n\nfunction RegisterPage() {\n  const [user, setUser] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const [submitted, setSubmitted] = useState(false);\n  const registering = useSelector((state) => state.registration.registering);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(userActions.logout());\n  }, []);\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setUser((user) => ({ ...user, [name]: value }));\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    setSubmitted(true);\n    if (user.email && user.username && user.password) {\n      dispatch(userActions.register(user));\n    }\n  }\n\n  return (\n    <div className=\"col-lg-8 offset-lg-2\">\n      <h2>Register</h2>\n      <form name=\"form\" onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label>Username</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={user.username}\n            onChange={handleChange}\n            className={\n              \"form-control\" +\n              (submitted && !user.username ? \" is-invalid\" : \"\")\n            }\n          />\n          {submitted && !user.username && (\n            <div className=\"invalid-feedback\">Username is required</div>\n          )}\n        </div>\n        <div className=\"form-group\">\n          <label>email</label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            value={user.email}\n            onChange={handleChange}\n            className={\n              \"form-control\" + (submitted && !user.email ? \" is-invalid\" : \"\")\n            }\n          />\n          {submitted && !user.email && (\n            <div className=\"invalid-feedback\">email is required</div>\n          )}\n        </div>\n        <div className=\"form-group\">\n          <label>Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={user.password}\n            onChange={handleChange}\n            className={\n              \"form-control\" +\n              (submitted && !user.password ? \" is-invalid\" : \"\")\n            }\n          />\n          {submitted && !user.password && (\n            <div className=\"invalid-feedback\">Password is required</div>\n          )}\n        </div>\n        <div className=\"form-group\">\n          <button className=\"btn btn-primary\">\n            {registering && (\n              <span className=\"spinner-border spinner-border-sm mr-1\"></span>\n            )}\n            Register\n          </button>\n          <Link to=\"/login\" className=\"btn btn-link\">\n            Cancel\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport { RegisterPage };\n","import React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { history } from \"../_helpers\";\r\nimport { userActions } from \"../_actions\";\r\nimport * as _ from \"underscore\";\r\n\r\nfunction Article() {\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    dispatch(userActions.getArticleBySlug(id));\r\n    dispatch(userActions.getComments(id));\r\n  }, []);\r\n\r\n  const article = useSelector((state) => state.article.article);\r\n  const comments = useSelector((state) => state.comments.comments);\r\n\r\n  const user = useSelector((state) => state.authentication.user.user);\r\n\r\n  function showButtons() {\r\n    if (!_.isEmpty(article) && !_.isEmpty(user)) {\r\n      if (user.username === article.author.username) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function editArticle(slug) {\r\n    history.push(\"/editArticle/\" + slug);\r\n  }\r\n\r\n  function deleteArticle(slug) {\r\n    dispatch(userActions.deleteArticle(slug));\r\n  }\r\n\r\n  function showCommentButtons(author, e) {\r\n    if (!_.isEmpty(comments) && !_.isEmpty(user)) {\r\n      if (user.username === author) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function editComment(c, e) {\r\n    document.getElementById(\"\" + c.id).disabled = false;\r\n    const el = document.getElementById(\"update\" + c.id);\r\n    el.style.cursor = \"pointer\";\r\n  }\r\n\r\n  function updateComment(id) {\r\n    document.getElementById(\"\" + id).disabled = true;\r\n    document.getElementById(\"update\" + id).style.cursor = \"no-drop\";\r\n  }\r\n\r\n  function addNewComment(slug) {\r\n    dispatch(\r\n      userActions.addComment(slug, document.getElementById(\"newComment\").value)\r\n    );\r\n  }\r\n\r\n  function deleteComment(id, slug) {\r\n    dispatch(userActions.deleteComment(id, slug));\r\n  }\r\n\r\n  function makeFavourite(flag, slug) {\r\n    dispatch(userActions.markUnmarkFavourite(flag, slug));\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-lg-8 offset-lg-2\">\r\n      <h1>Article</h1>\r\n      <div>\r\n        {!_.isEmpty(article) && (\r\n          <div className=\"mt-4 h-100 border border-white\">\r\n            <div className=\" row ml-2\">\r\n              <span className=\"badge badge-info mt-2\">\r\n                {\" \" + article.author.username}\r\n              </span>\r\n            </div>\r\n            <div className=\"ml-2\">\r\n              <h5>{new Date(article.createdAt).toLocaleDateString()}</h5>\r\n            </div>\r\n            <div className=\"ml-2\">\r\n              <h2>{article.title}</h2>\r\n            </div>\r\n            <div className=\"ml-2 h-100\">\r\n              <h4\r\n                className=\"text-justify pt-4\"\r\n                style={{ wordWrap: \"break-word\", borderTop: \"1px solid gray\" }}\r\n              >\r\n                {article.body}\r\n              </h4>\r\n            </div>\r\n            {showButtons() && (\r\n              <div className=\"row justify-content-center mb-4 mt-4\">\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => editArticle(article.slug)}\r\n                >\r\n                  Edit Article\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-danger ml-4\"\r\n                  onClick={() => deleteArticle(article.slug)}\r\n                >\r\n                  Delete Article\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {!article.favorited && (\r\n              <button\r\n                className=\"btn btn-sm btn-success\"\r\n                onClick={() => makeFavourite(true, article.slug)}\r\n              >\r\n                Mark Favourite\r\n              </button>\r\n            )}\r\n            {article.favorited && (\r\n              <button\r\n                className=\"btn btn-sm btn-danger\"\r\n                onClick={() => makeFavourite(false, article.slug)}\r\n              >\r\n                Unfavourite\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <h3>Add Comment</h3>\r\n        <textarea\r\n          id={\"newComment\"}\r\n          className=\"form-group form-control\"\r\n          name=\"comment\"\r\n        />\r\n        <button\r\n          className=\"btn btn-info\"\r\n          onClick={() => {\r\n            addNewComment(article.slug);\r\n          }}\r\n        >\r\n          Add Comment\r\n        </button>\r\n        {!_.isEmpty(comments) && (\r\n          <div>\r\n            <div>\r\n              <h2 className=\"mt-4\">Comments</h2>\r\n              {comments.map((comment) => (\r\n                <div\r\n                  className=\" ml-2 mt-4 h-100 border border-top border-primary\"\r\n                  key={comment.id}\r\n                >\r\n                  <div>\r\n                    <span className=\"badge badge-info\">\r\n                      {comment.author.username}\r\n                    </span>\r\n                    <span className=\"ml-4\">\r\n                      <p className=\"\">\r\n                        {new Date(comment.createdAt).toLocaleDateString()}\r\n                      </p>\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <textarea\r\n                      id={comment.id}\r\n                      className=\"form-group form-control\"\r\n                      name=\"comment\"\r\n                      defaultValue={comment.body}\r\n                      disabled={true}\r\n                    />\r\n                    {showCommentButtons(comment.author.username) && (\r\n                      <div className=\"row justify-content-center mb-4 mt-4\">\r\n                        <button\r\n                          className=\"btn btn-sm btn-primary\"\r\n                          onClick={(e) => editComment(comment, e)}\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                        <button\r\n                          id={\"update\" + comment.id}\r\n                          className=\"btn btn-sm btn-primary ml-2\"\r\n                          style={{ cursor: \"no-drop\" }}\r\n                          onClick={() => updateComment(comment.id)}\r\n                        >\r\n                          Update\r\n                        </button>\r\n                        <button\r\n                          className=\"btn btn-sm btn-danger ml-4\"\r\n                          onClick={() =>\r\n                            deleteComment(comment.id, article.slug)\r\n                          }\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Article };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { userActions } from \"../_actions\";\r\nimport _ from \"underscore\";\r\n\r\nfunction NewArticle() {\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    if (id !== undefined) {\r\n      dispatch(userActions.getArticleBySlug(id));\r\n    }\r\n  }, []);\r\n\r\n  const article = useSelector((state) => state.article.article);\r\n\r\n  useEffect(() => {\r\n    if (id !== undefined && !_.isUndefined(article) && !_.isEmpty(article)) {\r\n      setInputs(() => ({\r\n        title: article.title,\r\n        description: article.description,\r\n        body: article.body,\r\n        tagList: article.tagList,\r\n      }));\r\n    }\r\n  }, []);\r\n  const [inputs, setInputs] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    body: \"\",\r\n    tagList: [],\r\n  });\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const { title, description, body, tagList } = inputs;\r\n  const dispatch = useDispatch();\r\n\r\n  function handleChange(e) {\r\n    const { name, value } = e.target;\r\n    setInputs((inputs) => ({ ...inputs, [name]: value }));\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    setSubmitted(true);\r\n    if (title && description && body) {\r\n      let finalList = makeTagList(tagList);\r\n\r\n      if (_.isUndefined(id)) {\r\n        dispatch(userActions.addArticle(title, description, body, finalList));\r\n      } else {\r\n        dispatch(\r\n          userActions.updateArticle(title, description, body, finalList, id)\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  function makeTagList(str) {\r\n    if (!_.isEmpty(str)) {\r\n      let arr = str.trim();\r\n      arr = arr.split(\",\");\r\n      for (let i = 0; i < arr.length; i++) {\r\n        arr[i] = arr[i].trim();\r\n      }\r\n      arr = _.without(arr, \"\");\r\n      arr = _.uniq(arr);\r\n      return arr;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-lg-8 offset-lg-2\">\r\n      <h2>Add new article</h2>\r\n      <form name=\"form\" onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Title</label>\r\n          <input\r\n            id=\"title\"\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={title}\r\n            onChange={handleChange}\r\n            className={\r\n              \"form-control\" + (submitted && !title ? \" is-invalid\" : \"\")\r\n            }\r\n          />\r\n          {submitted && !title && (\r\n            <div className=\"invalid-feedback\">title is required</div>\r\n          )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Description</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"description\"\r\n            value={description}\r\n            onChange={handleChange}\r\n            className={\r\n              \"form-control\" + (submitted && !description ? \" is-invalid\" : \"\")\r\n            }\r\n          />\r\n          {submitted && !description && (\r\n            <div className=\"invalid-feedback\">desription is required</div>\r\n          )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Body</label>\r\n          <textarea\r\n            type=\"text\"\r\n            name=\"body\"\r\n            value={body}\r\n            onChange={handleChange}\r\n            className={\r\n              \"form-control\" + (submitted && !body ? \" is-invalid\" : \"\")\r\n            }\r\n          />\r\n          {submitted && !body && (\r\n            <div className=\"invalid-feedback\">body is required</div>\r\n          )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Tags(Enter comma separated values)</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"tagList\"\r\n            value={tagList}\r\n            onChange={handleChange}\r\n            className={\"form-control\"}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <button className=\"btn btn-info\">\r\n            {id ? \"Update Article\" : \"Add Article\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { NewArticle };\r\n","import React, { useEffect } from \"react\";\nimport { Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { history } from \"./_helpers\";\nimport { alertActions } from \"./_actions\";\nimport { PrivateRoute } from \"./_components\";\nimport { Articles } from \"./Articles\";\nimport { LoginPage } from \"./LoginPage\";\nimport { RegisterPage } from \"./RegisterPage\";\nimport { Article } from \"./IndividualArticle\";\nimport { NewArticle } from \"./NewArticle\";\n\nfunction App() {\n  const alert = useSelector((state) => state.alert);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    history.listen((location, action) => {\n      dispatch(alertActions.clear());\n    });\n  }, []);\n\n  return (\n    <div className=\"jumbotron\">\n      <div className=\"container\">\n        <div className=\"col-md-8 offset-md-2\">\n          {alert.message && (\n            <div className={`alert ${alert.type}`}>{alert.message}</div>\n          )}\n          <Router history={history}>\n            <Switch>\n              <PrivateRoute exact path=\"/articles\" component={Articles} />\n              <Route path=\"/login\" component={LoginPage} />\n              <Route path=\"/register\" component={RegisterPage} />\n              <Route path=\"/articles/:id\" component={Article} />\n              <Route path=\"/newArticle\" component={NewArticle} />\n              <Route path=\"/editArticle/:id\" component={NewArticle} />\n              <Redirect from=\"*\" to=\"/articles\" />\n            </Switch>\n          </Router>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\n\nimport { store } from \"./_helpers\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\nserviceWorker.unregister();\n"],"sourceRoot":""}